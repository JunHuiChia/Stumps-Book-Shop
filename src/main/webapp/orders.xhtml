<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:components="http://xmlns.jcp.org/jsf/composite/components"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Orders</title>
        <h:outputStylesheet library="css" name="navbar.css"/>
        <h:outputStylesheet library="css" name="orders.css"/>

    </h:head>
    <h:body>
        <components:navbar/>
        <div class="orderPage">
            <h1>Orders</h1>
            #{orderBean.loadOrders()}
            <ui:repeat value="#{orderBean.orders}" var="order">
                <div class="orderSection">
                    <div class="orderDetail">
                        <p class="orderID">Order ID: #{order.id}</p>
                        <p class="orderDate">Date created: #{order.dateCreated}</p>
                        <p class="orderStatus">Status: #{order.status}</p>
                    </div>
                    <div class="itemTitles">
                        <p class="bookName">Product Name</p>
                        <p class="bookAuthor">Author</p>
                        <p class="bookYOP">Year Published</p>
                        <p class="bookPrice">Price</p>
                    </div>
                    <ui:repeat value="#{order.orderItems}" var="book">
                        <div class="bookDetails">
                            <p class="bookName">#{book.bookName}</p>
                            <p class="bookAuthor">#{book.author}</p>
                            <p class="bookYOP">#{book.yop}</p>
                            <p class="bookPrice">£#{book.price}</p>
                        </div>
                    </ui:repeat>
                    <div class="orderFooter">
                        <p class="totalPrice">Total: £#{order.totalPrice}</p>
                    </div>
                </div>
            </ui:repeat>
        </div>
    </h:body>
</html>

